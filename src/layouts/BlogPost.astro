---
import BlogContent from "@components/blog/BlogContent.astro";
import BlogSideBar from "@components/blog/BlogSideBar.astro";
import RecentBlogPosts from "@components/generic/RecentBlogPosts.astro";
import Layout from "./Default.astro";

const ogImage = new URL(`/v1/generate/og/${Astro.params.slug}.png`, Astro.url);

interface Props {
  author: string;
  pubDate: Date;
  headings: unknown;
  description: string;
  title: string;
}

const { author, pubDate, description, title, headings } = Astro.props;
---

<Layout
  title={title as string}
  description={description as string}
  ogImage={ogImage}
>
  <main class="p-6 lg:grid lg:grid-cols-3 flex justify-center">
    <BlogSideBar headings={headings as any[]} />
    <BlogContent {author} {pubDate}>
      <slot />
    </BlogContent>
  </main>
  <section class="p-6">
    <RecentBlogPosts count={6} />
  </section>
</Layout>
